webpackJsonp([5],{"./node_modules/three/examples/js/renderers/Projector.js":function(e,r){THREE.RenderableObject=function(){this.id=0,this.object=null,this.z=0,this.renderOrder=0},THREE.RenderableFace=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.v3=new THREE.RenderableVertex,this.normalModel=new THREE.Vector3,this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.vertexNormalsLength=0,this.color=new THREE.Color,this.material=null,this.uvs=[new THREE.Vector2,new THREE.Vector2,new THREE.Vector2],this.z=0,this.renderOrder=0},THREE.RenderableVertex=function(){this.position=new THREE.Vector3,this.positionWorld=new THREE.Vector3,this.positionScreen=new THREE.Vector4,this.visible=!0},THREE.RenderableVertex.prototype.copy=function(e){this.positionWorld.copy(e.positionWorld),this.positionScreen.copy(e.positionScreen)},THREE.RenderableLine=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.vertexColors=[new THREE.Color,new THREE.Color],this.material=null,this.z=0,this.renderOrder=0},THREE.RenderableSprite=function(){this.id=0,this.object=null,this.x=0,this.y=0,this.z=0,this.rotation=0,this.scale=new THREE.Vector2,this.material=null,this.renderOrder=0},THREE.Projector=function(){function e(t){if(!1!==t.visible){if(t instanceof THREE.Light)O.lights.push(t);else if(t instanceof THREE.Mesh||t instanceof THREE.Line||t instanceof THREE.Points){if(!1===t.material.visible)return;if(!0===t.frustumCulled&&!1===G.intersectsObject(t))return;r(t)}else if(t instanceof THREE.Sprite){if(!1===t.material.visible)return;if(!0===t.frustumCulled&&!1===G.intersectsSprite(t))return;r(t)}for(var i=t.children,n=0,o=i.length;n<o;n++)e(i[n])}}function r(e){p=i(),p.id=e.id,p.object=e,C.setFromMatrixPosition(e.matrixWorld),C.applyMatrix4(P),p.z=C.z,p.renderOrder=e.renderOrder,O.objects.push(p)}function t(e,r,t){var i=1/e.w;e.z*=i,e.z>=-1&&e.z<=1&&(y=s(),y.id=r.id,y.x=e.x*i,y.y=e.y*i,y.z=e.z,y.renderOrder=r.renderOrder,y.object=r,y.rotation=r.rotation,y.scale.x=r.scale.x*Math.abs(y.x-(e.x+t.projectionMatrix.elements[0])/(e.w+t.projectionMatrix.elements[12])),y.scale.y=r.scale.y*Math.abs(y.y-(e.y+t.projectionMatrix.elements[5])/(e.w+t.projectionMatrix.elements[13])),y.material=r.material,O.elements.push(y))}function i(){if(E===H){var e=new THREE.RenderableObject;return T.push(e),H++,E++,e}return T[E++]}function n(){if(f===w){var e=new THREE.RenderableVertex;return g.push(e),w++,f++,e}return g[f++]}function o(){if(d===M){var e=new THREE.RenderableFace;return S.push(e),M++,d++,e}return S[d++]}function a(){if(m===z){var e=new THREE.RenderableLine;return b.push(e),z++,m++,e}return b[m++]}function s(){if(x===j){var e=new THREE.RenderableSprite;return V.push(e),j++,x++,e}return V[x++]}function l(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.z!==r.z?r.z-e.z:e.id!==r.id?e.id-r.id:0}function c(e,r){var t=0,i=1,n=e.z+e.w,o=r.z+r.w,a=-e.z+e.w,s=-r.z+r.w;return n>=0&&o>=0&&a>=0&&s>=0||!(n<0&&o<0||a<0&&s<0)&&(n<0?t=Math.max(t,n/(n-o)):o<0&&(i=Math.min(i,n/(n-o))),a<0?t=Math.max(t,a/(a-s)):s<0&&(i=Math.min(i,a/(a-s))),!(i<t)&&(e.lerp(r,t),r.lerp(e,1-i),!0))}var p,E,u,f,h,d,v,m,y,x,R,T=[],H=0,g=[],w=0,S=[],M=0,b=[],z=0,V=[],j=0,O={objects:[],lights:[],elements:[]},C=new THREE.Vector3,L=new THREE.Vector4,k=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),B=new THREE.Box3,N=new Array(3),W=new THREE.Matrix4,P=new THREE.Matrix4,A=new THREE.Matrix4,F=new THREE.Matrix3,G=new THREE.Frustum,D=new THREE.Vector4,U=new THREE.Vector4;this.projectVector=function(e,r){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(r)},this.unprojectVector=function(e,r){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(r)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")};var I=function(){function e(e){T=e,H=T.material,w.getNormalMatrix(T.matrixWorld),m.length=0,y.length=0,x.length=0}function r(e){var r=e.position,t=e.positionWorld,i=e.positionScreen;t.copy(r).applyMatrix4(R),i.copy(t).applyMatrix4(P);var n=1/i.w;i.x*=n,i.y*=n,i.z*=n,e.visible=i.x>=-1&&i.x<=1&&i.y>=-1&&i.y<=1&&i.z>=-1&&i.z<=1}function t(e,t,i){u=n(),u.position.set(e,t,i),r(u)}function i(e,r,t){m.push(e,r,t)}function s(e,r,t){y.push(e,r,t)}function l(e,r){x.push(e,r)}function p(e,r,t){return!0===e.visible||!0===r.visible||!0===t.visible||(N[0]=e.positionScreen,N[1]=r.positionScreen,N[2]=t.positionScreen,k.intersectsBox(B.setFromPoints(N)))}function E(e,r,t){return(t.positionScreen.x-e.positionScreen.x)*(r.positionScreen.y-e.positionScreen.y)-(t.positionScreen.y-e.positionScreen.y)*(r.positionScreen.x-e.positionScreen.x)<0}function f(e,r){var t=g[e],i=g[r];t.positionScreen.copy(t.position).applyMatrix4(A),i.positionScreen.copy(i.position).applyMatrix4(A),!0===c(t.positionScreen,i.positionScreen)&&(t.positionScreen.multiplyScalar(1/t.positionScreen.w),i.positionScreen.multiplyScalar(1/i.positionScreen.w),v=a(),v.id=T.id,v.v1.copy(t),v.v2.copy(i),v.z=Math.max(t.positionScreen.z,i.positionScreen.z),v.renderOrder=T.renderOrder,v.material=T.material,T.material.vertexColors===THREE.VertexColors&&(v.vertexColors[0].fromArray(y,3*e),v.vertexColors[1].fromArray(y,3*r)),O.elements.push(v))}function d(e,r,t){var i=g[e],n=g[r],a=g[t];if(!1!==p(i,n,a)&&(H.side===THREE.DoubleSide||!0===E(i,n,a))){h=o(),h.id=T.id,h.v1.copy(i),h.v2.copy(n),h.v3.copy(a),h.z=(i.positionScreen.z+n.positionScreen.z+a.positionScreen.z)/3,h.renderOrder=T.renderOrder,h.normalModel.fromArray(m,3*e),h.normalModel.applyMatrix3(w).normalize();for(var s=0;s<3;s++){var l=h.vertexNormalsModel[s];l.fromArray(m,3*arguments[s]),l.applyMatrix3(w).normalize();h.uvs[s].fromArray(x,2*arguments[s])}h.vertexNormalsLength=3,h.material=T.material,O.elements.push(h)}}var m=[],y=[],x=[],T=null,H=null,w=new THREE.Matrix3;return{setObject:e,projectVertex:r,checkTriangleVisibility:p,checkBackfaceCulling:E,pushVertex:t,pushNormal:i,pushColor:s,pushUv:l,pushLine:f,pushTriangle:d}},J=new I;this.projectScene=function(r,i,s,p){d=0,m=0,x=0,O.elements.length=0,!0===r.autoUpdate&&r.updateMatrixWorld(),null===i.parent&&i.updateMatrixWorld(),W.copy(i.matrixWorldInverse),P.multiplyMatrices(i.projectionMatrix,W),G.setFromMatrix(P),E=0,O.objects.length=0,O.lights.length=0,e(r),!0===s&&O.objects.sort(l);for(var u=O.objects,y=0,T=u.length;y<T;y++){var H=u[y].object,w=H.geometry;if(J.setObject(H),R=H.matrixWorld,f=0,H instanceof THREE.Mesh){if(w instanceof THREE.BufferGeometry){var S=w.attributes,M=w.groups;if(void 0===S.position)continue;for(var b=S.position.array,z=0,V=b.length;z<V;z+=3)J.pushVertex(b[z],b[z+1],b[z+2]);if(void 0!==S.normal)for(var j=S.normal.array,z=0,V=j.length;z<V;z+=3)J.pushNormal(j[z],j[z+1],j[z+2]);if(void 0!==S.uv)for(var k=S.uv.array,z=0,V=k.length;z<V;z+=2)J.pushUv(k[z],k[z+1]);if(null!==w.index){var B=w.index.array;if(M.length>0)for(var N=0;N<M.length;N++)for(var I=M[N],z=I.start,V=I.start+I.count;z<V;z+=3)J.pushTriangle(B[z],B[z+1],B[z+2]);else for(var z=0,V=B.length;z<V;z+=3)J.pushTriangle(B[z],B[z+1],B[z+2])}else for(var z=0,V=b.length/3;z<V;z+=3)J.pushTriangle(z,z+1,z+2)}else if(w instanceof THREE.Geometry){var _=w.vertices,q=w.faces,K=w.faceVertexUvs[0];F.getNormalMatrix(R);for(var Q=H.material,X=Array.isArray(Q),Y=0,Z=_.length;Y<Z;Y++){var $=_[Y];if(C.copy($),!0===Q.morphTargets)for(var ee=w.morphTargets,re=H.morphTargetInfluences,te=0,ie=ee.length;te<ie;te++){var ne=re[te];if(0!==ne){var oe=ee[te],ae=oe.vertices[Y];C.x+=(ae.x-$.x)*ne,C.y+=(ae.y-$.y)*ne,C.z+=(ae.z-$.z)*ne}}J.pushVertex(C.x,C.y,C.z)}for(var se=0,le=q.length;se<le;se++){var ce=q[se];if(void 0!==(Q=!0===X?H.material[ce.materialIndex]:H.material)){var pe=Q.side,Ee=g[ce.a],ue=g[ce.b],fe=g[ce.c];if(!1!==J.checkTriangleVisibility(Ee,ue,fe)){var he=J.checkBackfaceCulling(Ee,ue,fe);if(pe!==THREE.DoubleSide){if(pe===THREE.FrontSide&&!1===he)continue;if(pe===THREE.BackSide&&!0===he)continue}h=o(),h.id=H.id,h.v1.copy(Ee),h.v2.copy(ue),h.v3.copy(fe),h.normalModel.copy(ce.normal),!1!==he||pe!==THREE.BackSide&&pe!==THREE.DoubleSide||h.normalModel.negate(),h.normalModel.applyMatrix3(F).normalize();for(var de=ce.vertexNormals,ve=0,me=Math.min(de.length,3);ve<me;ve++){var ye=h.vertexNormalsModel[ve];ye.copy(de[ve]),!1!==he||pe!==THREE.BackSide&&pe!==THREE.DoubleSide||ye.negate(),ye.applyMatrix3(F).normalize()}h.vertexNormalsLength=de.length;var xe=K[se];if(void 0!==xe)for(var Re=0;Re<3;Re++)h.uvs[Re].copy(xe[Re]);h.color=ce.color,h.material=Q,h.z=(Ee.positionScreen.z+ue.positionScreen.z+fe.positionScreen.z)/3,h.renderOrder=H.renderOrder,O.elements.push(h)}}}}}else if(H instanceof THREE.Line){if(A.multiplyMatrices(P,R),w instanceof THREE.BufferGeometry){var S=w.attributes;if(void 0!==S.position){for(var b=S.position.array,z=0,V=b.length;z<V;z+=3)J.pushVertex(b[z],b[z+1],b[z+2]);if(void 0!==S.color)for(var Te=S.color.array,z=0,V=Te.length;z<V;z+=3)J.pushColor(Te[z],Te[z+1],Te[z+2]);if(null!==w.index)for(var B=w.index.array,z=0,V=B.length;z<V;z+=2)J.pushLine(B[z],B[z+1]);else for(var He=H instanceof THREE.LineSegments?2:1,z=0,V=b.length/3-1;z<V;z+=He)J.pushLine(z,z+1)}}else if(w instanceof THREE.Geometry){var _=H.geometry.vertices;if(0===_.length)continue;Ee=n(),Ee.positionScreen.copy(_[0]).applyMatrix4(A);for(var He=H instanceof THREE.LineSegments?2:1,Y=1,Z=_.length;Y<Z;Y++)Ee=n(),Ee.positionScreen.copy(_[Y]).applyMatrix4(A),(Y+1)%He>0||(ue=g[f-2],D.copy(Ee.positionScreen),U.copy(ue.positionScreen),!0===c(D,U)&&(D.multiplyScalar(1/D.w),U.multiplyScalar(1/U.w),v=a(),v.id=H.id,v.v1.positionScreen.copy(D),v.v2.positionScreen.copy(U),v.z=Math.max(D.z,U.z),v.renderOrder=H.renderOrder,v.material=H.material,H.material.vertexColors===THREE.VertexColors&&(v.vertexColors[0].copy(H.geometry.colors[Y]),v.vertexColors[1].copy(H.geometry.colors[Y-1])),O.elements.push(v)))}}else if(H instanceof THREE.Points){if(A.multiplyMatrices(P,R),w instanceof THREE.Geometry)for(var _=H.geometry.vertices,Y=0,Z=_.length;Y<Z;Y++){var $=_[Y];L.set($.x,$.y,$.z,1),L.applyMatrix4(A),t(L,H,i)}else if(w instanceof THREE.BufferGeometry){var S=w.attributes;if(void 0!==S.position)for(var b=S.position.array,z=0,V=b.length;z<V;z+=3)L.set(b[z],b[z+1],b[z+2],1),L.applyMatrix4(A),t(L,H,i)}}else H instanceof THREE.Sprite&&(L.set(R.elements[12],R.elements[13],R.elements[14],1),L.applyMatrix4(P),t(L,H,i))}return!0===p&&O.elements.sort(l),O}}}});